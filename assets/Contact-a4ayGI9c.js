import{a as g,r as _,j as m}from"./index-DBTBep5Z.js";const w=[{name:"name",type:"text",placeholder:"Your name"},{name:"email",type:"text",placeholder:"Your email"},{name:"company",type:"text",placeholder:"Company Name"},{name:"subject",type:"text",placeholder:"Subject"},{name:"text",type:"textarea",placeholder:"Your message"}],S=/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/,b={name:"",email:"",subject:"",company:"",text:""},x={name:void 0,email:void 0,subject:void 0,company:void 0,text:void 0},j=(a,e)=>{switch(a){case"name":if(!e)return"Name is required";break;case"email":if(!e)return"Email is required";if(e.length>0&&!S.test(e))return"Please enter a valid email";break;case"subject":if(!e)return"Subject is required";break;case"company":if(!e)return"Company is required";break;case"text":if(!e)return"Message is required";break;default:return}},N="_container_181aq_1",f="_title_181aq_13",E="_inputs_181aq_31",C="_input_181aq_31",F="_textarea_181aq_41",O="_button_181aq_87",T="_errors_181aq_115",I="_label_181aq_137",u={container:N,title:f,inputs:E,input:C,textarea:F,button:O,errors:T,label:I},p={_origin:"https://api.emailjs.com"},D=(a,e="https://api.emailjs.com")=>{p._userID=a,p._origin=e},y=(a,e,r)=>{if(!a)throw"The user ID is required. Visit https://dashboard.emailjs.com/admin/integration";if(!e)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!r)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates";return!0};class v{constructor(e){this.status=e.status,this.text=e.responseText}}const q=(a,e,r={})=>new Promise((l,n)=>{const i=new XMLHttpRequest;i.addEventListener("load",({target:s})=>{const t=new v(s);t.status===200||t.text==="OK"?l(t):n(t)}),i.addEventListener("error",({target:s})=>{n(new v(s))}),i.open("POST",p._origin+a,!0),Object.keys(r).forEach(s=>{i.setRequestHeader(s,r[s])}),i.send(e)}),M=(a,e,r,l)=>{const n=l||p._userID;return y(n,a,e),q("/api/v1.0/email/send",JSON.stringify({lib_version:"3.2.0",user_id:n,service_id:a,template_id:e,template_params:r}),{"Content-type":"application/json"})},k=a=>{let e;if(typeof a=="string"?e=document.querySelector(a):e=a,!e||e.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of form";return e},L=(a,e,r,l)=>{const n=l||p._userID,i=k(r);y(n,a,e);const s=new FormData(i);return s.append("lib_version","3.2.0"),s.append("service_id",a),s.append("template_id",e),s.append("user_id",n),q("/api/v1.0/email/send-form",s)},P={init:D,send:M,sendForm:L},H=()=>{const a=g(),[e,r]=_.useState({...x}),[l,n]=_.useState({...b}),i=t=>{const{name:o,value:c}=t.target;n(d=>({...d,[o]:c})),r(d=>({...d,[o]:j(o,c)}))},s=t=>{t.preventDefault();const o={...x};Object.entries(l).forEach(([c,d])=>{const h=j(c,d);h&&(o[c]=h)}),r(o),Object.values(o).every(c=>!c)&&(P.sendForm("service_hgakl58","template_yzjmr1t",t.target,"mu4wBWTcndO5oniOq"),alert("Message sent successfully!"),n({...b}),a("/"))};return m.jsxs("div",{className:u.container,children:[m.jsx("h1",{id:"contact-title",className:u.title,children:"Contact Me"}),m.jsxs("form",{onSubmit:s,"aria-labelledby":"contact-title",children:[w.map(t=>{const o=`${t.name}-error`,c=`${t.name}-input`;return m.jsxs("div",{className:u.inputs,children:[m.jsx("label",{htmlFor:c,className:u.label,children:t.placeholder}),t.type==="textarea"?m.jsx("textarea",{id:c,value:l[t.name],name:t.name,placeholder:t.placeholder,className:u.textarea,onChange:i,"aria-invalid":!!e[t.name],"aria-describedby":e[t.name]?o:void 0}):m.jsx("input",{id:c,type:t.type,value:l[t.name],name:t.name,placeholder:t.placeholder,className:u.input,onChange:i,"aria-invalid":!!e[t.name],"aria-describedby":e[t.name]?o:void 0}),m.jsx("div",{id:o,className:u.errors,children:e[t.name]&&m.jsx("span",{children:e[t.name]})})]},t.name)}),m.jsx("div",{children:m.jsx("button",{type:"submit",className:u.button,"aria-label":"Send contact message",children:"Send"})})]})]})};export{H as default};
